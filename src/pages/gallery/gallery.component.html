<div class="tabs">
    <frozen-fantasy-tabs>
        <frozen-fantasy-tab [tabTitle]="'Распакованные'" [active]="true">
            <div class="filters" [formGroup]="form">
                <div class="league-filters">
                    <p>Лига</p>
                    <frozen-fantasy-checkbox
                        formControlName="khlLeague">КХЛ</frozen-fantasy-checkbox>
                    <frozen-fantasy-checkbox
                        formControlName="nhlLeague">НХЛ</frozen-fantasy-checkbox>
                </div>
                <mat-form-field class="position-filter">
                    <mat-label>Позиция</mat-label>
                    <mat-select formControlName="position">

                        @for (position of positions; track position) {
                        <mat-option [value]="position">{{position}}</mat-option>
                        }
                    </mat-select>
                </mat-form-field>
                <frozen-fantasy-input class='name-filter'
                    formControlName="name">Имя</frozen-fantasy-input>
            </div>
            <div class="products-gallery" *ngLet="unpackedPlayers$ | async as players">
                @for ( player of players; track $index) {
                <frozen-fantasy-player-card [player]="player"></frozen-fantasy-player-card>
                }
            </div>
        </frozen-fantasy-tab>
        <frozen-fantasy-tab [tabTitle]="'Нераспакованные'" [active]="false"
            *ngLet="packedPlayers$ | async as players">
            @if(players.length){
            <div class="unpack-all">
                <frozen-fantasy-button (click)="unpackAll()">Открыть все</frozen-fantasy-button>

            </div>
            <div class="products-gallery">
                @for ( player of players; track $index) {
                <frozen-fantasy-player-card [player]="player"
                    (unpackPlayer)="unpackPlayer($event)"></frozen-fantasy-player-card>
                }
            </div>
            }
            @else{
            Все карточки распакованы
            }

        </frozen-fantasy-tab>
    </frozen-fantasy-tabs>
</div>